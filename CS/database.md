# 데이터베이스

## 1. 데이터베이스 개념 및 용어

### 1.1 키(Key)

키는 유일성을 만족하는 테이블의 속성이다.

+ 후보키 : 유일성과 최소성을 만족하는 키
+ 기본키 : 후보키들 중 하나
+ 슈퍼키 : 유일성만 만족하는 키

### 1.2 키 제약조건(Key Constraints)

키를 구성하는 속성들 중 일부분이 키가 되어서는 안된다는 조건

### 1.3 참여 제약조건

+ 부분참여 : 모든 엔티티는 관계를 맺지 않아도 된다.
+ 전체참여 : 모든 엔티티는 관계를 맺어야 한다.

### 1.4 약개체

다른 개체(테이블)와 전체 참여제약조건을 갖고, 독립적으로 존재할 수 없는 개체

### 1.5 무결성 제약조건

DB의 일관성과 정확성을 보장하기 위한 조건

+ 개체 무결성 : 기본키는 Null이 아니고 중복되어서도 안된다.
+ 참조 무결성 : 외래키는 Null이거나 참조 개체의 기본키여야 한다.

### 1.6 외래키 제약조건

개체 간 관계에 거는 조건이고 자기 참조도 가능하다.


### 1.7 데이터 모델링

데이터 모델링이란 비즈니스 로직을 추상화, 단순화, 명확화하는 작업이다.

데이터 모델링의 3요소

+ 무엇을 모델링? 어떤 비즈니스를 모델링? : Entity 설계
+ 어떤 속성을 갖는가? : Attribute 결정
+ 어떤 관계를 갖는가? : Relation 결정

데이터 모델링시 중복, 비일관성, 비유연성을 피해야한다.

### 1.8 데이터 스키마구조 3단계

스키마란 Entity, Attribute, Relation을 기술한 내용이다.

+ 외부스키마(사용자 뷰) : 개개인 사용자 입장에서 스키마를 정의
+ 개념스키마(전체 뷰) : 종합적인 관점에서의 스키마 정의(무결성 제약조건 결정)
+ 내부스키마(전체 스키마) : 물리적인 저장방식을 정의

### 1.9 Entity 분류

<b>유형 및 무형에 따른 분류</b>

+ 유형엔티티 : 물리적 형태가 있는 엔티티(ex. 회원, 상품)
+ 개념엔티티 : 물리적 형태는 없으나 관리해야할 엔티티(ex. 부서, 팀)
+ 사건엔티티 : 엔티티의 action(ex. 주문, 청구)

<b>발생 시점에 따른 분류</b>

+ 기본엔티티 : 원래 존재하고 독립 생성되는 엔티티(ex. 회원)
+ 중심엔티티 : 기본엔티티로부터 발생하는 엔티티(ex. 주문)
+ 행위엔티티 : 2개 이상의 엔티티로부터 발생하는 엔티티

### 1.10 식별관계와 비식별관계

+ 식별관계 : 부모 Entity로 부터 받은 식별자를 자식 Entity의 식별자로 사용
+ 비식별관계 : 부모로부터 받은 식별자를 자식엔티티에서의 식별자로 사용하지 않고 일반 속성으로만 사용함. 그러므로, 부모로부터 받은 식별자는 외래키로 관리된다.

비식별관계로 나타내는 경우는 아래와 같다.
+ 1. 부모 없는 자식 엔티티가 존재할 수 있는 경우
+ 2. 엔티티 생명주기가 부모 엔티티와 다른 경우
+ 3. 자식 엔티티에서의 별도의 식별자가 필요하다고 판단되는 경우
+ 4. 주식별자의 속성이 너무 많아서 쿼리 성능이 악화될 가능성이 있는 경우

비식별 관계는 자식에서 부모를 찾아갈 때, 항상 Join이 필요하다는 단점이 있다.

***

## 2. 인덱스(Index)

인덱스(index)란 데이터베이스 디스크에서 페이지(블록) 단위로 데이터를 더 효율적으로 읽기 위해 존재하는 자료구조이다.

### 2.1 파일구조

디스크에 저장된 파일 구조는 아래와 같다.




