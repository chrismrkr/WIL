# 리눅스 시스템 관리

## 1. 일반 운영 관리
### 1.1 사용자 관리
#### 1.1.1 사용자 분류
- 루트 계정, 시스템 계정, 사용자 계정
#### 1.1.2 루트 계정 관리
##### 1.1.2.1 루트 계정 설명
- UID는 0이고 어떤 명령어든 제한없이 사용 가능
##### 1.1.2.2 루트 계정 권한 획득 방법
- root 패스워드 설정
```sh
sudo passwd root
```
- root 사용자로 전환
```sh
su
su - # root 사용자 환경변수도 로드됨
```
- root 사용자로 임시 전환 : sudo 명령어를 통해 임시적으로 root 권한으로 전환하여 명령어를 실행할 수 있음
- /etc/passwd 변경 : UID를 0로 변경하면 root 사용자가 됨
##### 1.1.2.3 루트 계정 관리방안
- SSH, PAM로 접근할 수 없도록 해야함
- /etc/passwd 파일에 UID가 0인 계정은 하나일 것
- root 계정에 TMOUT을 통해 일정 시간 후에 로그아웃 되도록 할 것
- root 계정 로그인은 되도록 지양하고 sudo 명령어를 사용할 것 
##### 1.1.2.4 루트 패스워드 분실 대응 방법 
- 생략
#### 1.1.3 시스템 계정 관리
##### 1.1.3.1 시스템 계정 설명
- 메일 관리, SSH 연결 등 시스템의 특성 서비스에 권한을 갖는 계정
- UID는 1~499 사이에 있고 /etc/passwd에서 확인할 수 있음
##### 1.1.3.2 시스템 계정 관리 방안
- 서비스별로 권한을 분리하여 시스템 계정을 생성해야함
#### 1.1.4 사용자 계정 관리
##### 1.1.4.1 사용자 계정 설명
- 시스템 파일과 디렉토리에 제한적으로 접근하게 함
- 사용자 계정은 그룹에 속할 수 있고, 그룹 별로 리소스 권한 관리가 가능함
##### 1.1.4.2 사용자 계정 생성
- ```useradd``` 명령어로 생성 가능
- 홈 디렉토리, UID, 그룹, 만료일 등 설정이 가능함
##### 1.1.4.3 패스워드 설정
- ```passwd [옵션] [사용자 계정명]``` 명령어로 패스워드 설정 가능
- /etc/shadow 2번째 필드에 패스워드 설정됨
##### 1.1.4.4 사용자 계정 전환
- ```su [사용자 계정명]```으로 사용자 전환 가능
##### 1.1.4.5 사용자 설정 변경
- ```usermod [옵션] [계정명]``` 명령어로 설정 변경
- useradd 명령어로 할 수 있는 대부분을 변경할 수 있음
##### 1.1.4.6 사용자 계정 삭제
- ```userdel [옵션] [계정명]``` 명렁어로 계정 삭제
##### 1.1.4.7 사용자 계정 비밀번호 관리
- ```chage [옵션] [계정명]``` 명령어로 가능
#### 1.1.5 그룹 계정 관리
##### 1.1.5.1 그룹의 개요
- 사용자를 그룹에 묶어서 관리하기 위한 개념. 모든 사용자는 그룹에 속하며 여러 그룹에 포함될 수 있음
- 즉, 사용자는 GID와 UID를 갖음
- 레드헷 계열에서는 사용자 이름과 동일한 그룹을 초기해 생성함
##### 1.1.5.2 그룹 생성
- ```groupadd [option] [group-name]```으로 생성 가능
##### 1.1.5.3 그룹 정보 변경
- ```groupmod [option] [group-name]```으로 정보 변경 가능
##### 1.1.5.4 그룹 삭제
- ```groupdel [option] [group-name]```으로 삭제 가능
##### 1.1.5.5 그룹 패스워드 변경 및 사용자 추가
- ```gpasswd [옵션] [group-name]```으로 변경 가능
- /etc/group 또는 /etc/gshadow에서 확인 가능
##### 1.1.5.6 그룹 참여
- newgrp : 현재 로그인한 사용자의 그룹을 변경함
#### 1.1.6 사용자 환경설정 파일
- /etc/passwd, /etc/shadow, /etc/group, /etc/gshadow
- /etc/default/useradd, /etc/login.defs, /etc/skel
##### 1.1.6.1 /etc/passwd
- 사용자 계정 UUID, GID, 홈 디렉토리, 셸 정보를 포함한 파일
- 모든 사용자가 읽을 수 있고, 루트 사용자가 이를 수정할 수 있음
- 비밀번호 수정은 passwd 명령어로 가능함
- 형태 : 사용자명:비밀번호:UID:GID:설명:홈디렉토리:셸
##### 1.1.6.2 /etc/shadow
- 사용자 패스워드 정보가 들어있는 파일
- 형태 : 사용자명:비밀번호:최초생성일:최소사용일:최대사용일:만료경고일:유예기간:만료일
##### 1.1.6.3 /etc/default/useradd
- useradd 명령어로 사용자 생성 시 기본 설정 값이 저장된 환경설정 파일
- useradd -D 명령어로도 확인할 수 있음
##### 1.1.6.4 /etc/login.defs
- 패스워드 최대 사용일, 최소 사용일, 만료 경고일 등을 설정할 수 있음
##### 1.1.6.5 /etc/group
- 그룹에 속한 사용자를 관리하는 파일
- /etc/passwd에 기재된 GID는 사용자의 주 그룹이고, /etc/group에 기재된 GID는 보조 그룹임
- 형태 : 그룹명:패스워드:GID:사용자명1,2, ...
##### 1.1.6.6 /etc/gshadow
- 그룹 패스워드 정보를 포함한 파일
- 형태 : 그룹명:패스워드:그룹관리자:사용자1,2, ...
#### 1.1.7 사용자 및 그룹 정보 관련 명령어
- users : 


































